(function(a){var b={slide:0,delay:5000,loop:true,preload:false,preloadImage:false,preloadVideo:false,timer:true,overlay:false,autoplay:true,shuffle:false,cover:true,color:null,align:"center",valign:"center",firstTransition:null,firstTransitionDuration:null,transition:"fade",transitionDuration:1000,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],slidesToKeep:1,init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]};var d={};var c=function(e,f){this.elmt=e;this.settings=a.extend({},b,a.vegas.defaults,f);this.slide=this.settings.slide;this.total=this.settings.slides.length;this.noshow=this.total<2;this.paused=!this.settings.autoplay||this.noshow;this.ended=false;this.$elmt=a(e);this.$timer=null;this.$overlay=null;this.$slide=null;this.timeout=null;this.first=true;this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"];this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"];if(this.settings.transitionRegister instanceof Array===false){this.settings.transitionRegister=[this.settings.transitionRegister]}if(this.settings.animationRegister instanceof Array===false){this.settings.animationRegister=[this.settings.animationRegister]}this.transitions=this.transitions.concat(this.settings.transitionRegister);this.animations=this.animations.concat(this.settings.animationRegister);this.support={objectFit:"objectFit" in document.body.style,transition:"transition" in document.body.style||"WebkitTransition" in document.body.style,video:a.vegas.isVideoCompatible()};if(this.settings.shuffle===true){this.shuffle()}this._init()};c.prototype={_init:function(){var g,e,f,h=this.elmt.tagName==="BODY",k=this.settings.timer,i=this.settings.overlay,j=this;this._preload();if(!h){this.$elmt.css("height",this.$elmt.css("height"));g=a('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding"));if(!this.$elmt.css("padding")){g.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right"))}this.$elmt.clone(true).children().appendTo(g);this.elmt.innerHTML=""}if(k&&this.support.transition){f=a('<div class="vegas-timer"><div class="vegas-timer-progress">');this.$timer=f;this.$elmt.prepend(f)}if(i){e=a('<div class="vegas-overlay">');if(typeof i==="string"){e.css("background-image","url("+i+")")}this.$overlay=e;this.$elmt.prepend(e)}this.$elmt.addClass("vegas-container");if(!h){this.$elmt.append(g)}setTimeout(function(){j.trigger("init");j._goto(j.slide);if(j.settings.autoplay){j.trigger("play")}},1)},_preload:function(){var f,e;for(e=0;e<this.settings.slides.length;e++){if(this.settings.preload||this.settings.preloadImages){if(this.settings.slides[e].src){f=new Image();f.src=this.settings.slides[e].src}}if(this.settings.preload||this.settings.preloadVideos){if(this.support.video&&this.settings.slides[e].video){if(this.settings.slides[e].video instanceof Array){this._video(this.settings.slides[e].video)}else{this._video(this.settings.slides[e].video.src)}}}}},_random:function(e){return e[Math.floor(Math.random()*e.length)]},_slideShow:function(){var e=this;if(this.total>1&&!this.ended&&!this.paused&&!this.noshow){this.timeout=setTimeout(function(){e.next()},this._options("delay"))}},_timer:function(f){var e=this;clearTimeout(this.timeout);if(!this.$timer){return}this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms");if(this.ended||this.paused||this.noshow){return}if(f){setTimeout(function(){e.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",e._options("delay")-100+"ms")},100)}},_video:function(g){var h,f,e=g.toString();if(d[e]){return d[e]}if(g instanceof Array===false){g=[g]}h=document.createElement("video");h.preload=true;g.forEach(function(i){f=document.createElement("source");f.src=i;h.appendChild(f)});d[e]=h;return h},_fadeOutSound:function(h,f){var g=this,e=f/10,i=h.volume-0.09;if(i>0){h.volume=i;setTimeout(function(){g._fadeOutSound(h,f)},e)}else{h.pause()}},_fadeInSound:function(h,f){var g=this,e=f/10,i=h.volume+0.09;if(i<1){h.volume=i;setTimeout(function(){g._fadeInSound(h,f)},e)}},_options:function(f,e){if(e===undefined){e=this.slide}if(this.settings.slides[e][f]!==undefined){return this.settings.slides[e][f]}return this.settings[f]},_goto:function(q){if(typeof this.settings.slides[q]==="undefined"){q=0}this.slide=q;var f,e,h,g=this.$elmt.children(".vegas-slide"),s=this.settings.slides[q].src,y=this.settings.slides[q].video,n=this._options("delay"),i=this._options("align"),w=this._options("valign"),m=this._options("cover"),l=this._options("color")||this.$elmt.css("background-color"),r=this,t=g.length,x,p;var u=this._options("transition"),v=this._options("transitionDuration"),j=this._options("animation"),k=this._options("animationDuration");if(this.settings.firstTransition&&this.first){u=this.settings.firstTransition||u}if(this.settings.firstTransitionDuration&&this.first){v=this.settings.firstTransitionDuration||v}if(this.first){this.first=false}if(m!=="repeat"){if(m===true){m="cover"}else{if(m===false){m="contain"}}}if(u==="random"||u instanceof Array){if(u instanceof Array){u=this._random(u)}else{u=this._random(this.transitions)}}if(j==="random"||j instanceof Array){if(j instanceof Array){j=this._random(j)}else{j=this._random(this.animations)}}if(v==="auto"||v>n){v=n}if(k==="auto"){k=n}f=a('<div class="vegas-slide"></div>');if(this.support.transition&&u){f.addClass("vegas-transition-"+u)}if(this.support.video&&y){if(y instanceof Array){x=this._video(y)}else{x=this._video(y.src)}x.loop=y.loop!==undefined?y.loop:true;x.muted=y.mute!==undefined?y.mute:true;if(x.muted===false){x.volume=0;this._fadeInSound(x,v)}else{x.pause()}h=a(x).addClass("vegas-video").css("background-color",l);if(this.support.objectFit){h.css("object-position",i+" "+w).css("object-fit",m).css("width","100%").css("height","100%")}else{if(m==="contain"){h.css("width","100%").css("height","100%")}}f.append(h)}else{p=new Image();e=a('<div class="vegas-slide-inner"></div>').css("background-image",'url("'+s+'")').css("background-color",l).css("background-position",i+" "+w);if(m==="repeat"){e.css("background-repeat","repeat")}else{e.css("background-size",m)}if(this.support.transition&&j){e.addClass("vegas-animation-"+j).css("animation-duration",k+"ms")}f.append(e)}if(!this.support.transition){f.css("display","none")}if(t){g.eq(t-1).after(f)}else{this.$elmt.prepend(f)}g.css("transition","all 0ms").each(function(){this.className="vegas-slide";if(this.tagName==="VIDEO"){this.className+=" vegas-video"}if(u){this.className+=" vegas-transition-"+u;this.className+=" vegas-transition-"+u+"-in"}});r._timer(false);function o(){r._timer(true);setTimeout(function(){if(u){if(r.support.transition){g.css("transition","all "+v+"ms").addClass("vegas-transition-"+u+"-out");g.each(function(){var A=g.find("video").get(0);if(A){A.volume=1;r._fadeOutSound(A,v)}});f.css("transition","all "+v+"ms").addClass("vegas-transition-"+u+"-in")}else{f.fadeIn(v)}}for(var z=0;z<g.length-r.settings.slidesToKeep;z++){g.eq(z).remove()}r.trigger("walk");r._slideShow()},100)}if(x){if(x.readyState===4){x.currentTime=0}x.play();o()}else{p.src=s;if(p.complete){o()}else{p.onload=o}}},_end:function(){if(this.settings.autoplay){this.ended=false}else{this.ended=true}this._timer(false);this.trigger("end")},shuffle:function(){var g,f;for(var e=this.total-1;e>0;e--){f=Math.floor(Math.random()*(e+1));g=this.settings.slides[e];this.settings.slides[e]=this.settings.slides[f];this.settings.slides[f]=g}},play:function(){if(this.paused){this.paused=false;this.next();this.trigger("play")}},pause:function(){this._timer(false);this.paused=true;this.trigger("pause")},toggle:function(){if(this.paused){this.play()}else{this.pause()}},playing:function(){return !this.paused&&!this.noshow},current:function(e){if(e){return{slide:this.slide,data:this.settings.slides[this.slide]}}return this.slide},jump:function(e){if(e<0||e>this.total-1||e===this.slide){return}this.slide=e;this._goto(this.slide)},next:function(){this.slide++;if(this.slide>=this.total){if(!this.settings.loop){return this._end()}this.slide=0}this._goto(this.slide)},previous:function(){this.slide--;if(this.slide<0){if(!this.settings.loop){this.slide++;return}else{this.slide=this.total-1}}this._goto(this.slide)},trigger:function(e){var f=[];if(e==="init"){f=[this.settings]}else{f=[this.slide,this.settings.slides[this.slide]]}this.$elmt.trigger("vegas"+e,f);if(typeof this.settings[e]==="function"){this.settings[e].apply(this.$elmt,f)}},options:function(e,g){var f=this.settings.slides.slice();if(typeof e==="object"){this.settings=a.extend({},b,a.vegas.defaults,e)}else{if(typeof e==="string"){if(g===undefined){return this.settings[e]}this.settings[e]=g}else{return this.settings}}if(this.settings.slides!==f){this.total=this.settings.slides.length;this.noshow=this.total<2;this._preload()}},destroy:function(){clearTimeout(this.timeout);this.$elmt.removeClass("vegas-container");this.$elmt.find("> .vegas-slide").remove();this.$elmt.find("> .vegas-wrapper").clone(true).children().appendTo(this.$elmt);this.$elmt.find("> .vegas-wrapper").remove();if(this.settings.timer){this.$timer.remove()}if(this.settings.overlay){this.$overlay.remove()}this.elmt._vegas=null}};a.fn.vegas=function(g){var e=arguments,f=false,h;if(g===undefined||typeof g==="object"){return this.each(function(){if(!this._vegas){this._vegas=new c(this,g)}})}else{if(typeof g==="string"){this.each(function(){var i=this._vegas;if(!i){throw new Error("No Vegas applied to this element.")}if(typeof i[g]==="function"&&g[0]!=="_"){h=i[g].apply(i,[].slice.call(e,1))}else{f=true}});if(f){throw new Error('No method "'+g+'" in Vegas.')}return h!==undefined?h:this}}};a.vegas={};a.vegas.defaults=b;a.vegas.isVideoCompatible=function(){return !/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}})(window.jQuery||window.Zepto);